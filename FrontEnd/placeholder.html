<!DOCTYPE html>
<html>
<head>
		Example Macha!
</head>
<body>
	tr0llw3b
<script src="https://sdk.amazonaws.com/js/aws-sdk-2.1.12.min.js"></script>
<script type="text/javascript" src="lib/axios/dist/axios.standalone.js"></script>
<script type="text/javascript" src="lib/CryptoJS/rollups/hmac-sha256.js"></script>
<script type="text/javascript" src="lib/CryptoJS/rollups/sha256.js"></script>
<script type="text/javascript" src="lib/CryptoJS/components/hmac.js"></script>
<script type="text/javascript" src="lib/CryptoJS/components/enc-base64.js"></script>
<script type="text/javascript" src="lib/url-template/url-template.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/sigV4Client.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/apiGatewayClient.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/simpleHttpClient.js"></script>
<script type="text/javascript" src="lib/apiGatewayCore/utils.js"></script>
<script type="text/javascript" src="apigClient.js"></script>
	<script>
		function getURLParameter(){
				var values= {};
				var regex = window.location.href.replace(/[?#&]+([^=&]+)=([^&]*)/gi, function(n, k, val){
					values[k]= val;
			});
			return values;
		}

   		var jwt = getURLParameter()["id_token"];
   		console.log(jwt);

   		AWS.config.region = 'us-east-1'; // Region
		AWS.config.credentials = new AWS.CognitoIdentityCredentials({
			IdentityPoolId: 'us-east-1:8cd56551-c975-4618-82cc-43fef1e3a98e',
			Logins:{
				'cognito-idp.us-east-1.amazonaws.com/us-east-1_Ap83aBRuO': jwt
			}
		});

		AWS.config.credentials.refresh(function(){

			var accessKeyId = AWS.config.credentials.accessKeyId;
			var secretAccessKey = AWS.config.credentials.secretAccessKey;
			var sessionToken = AWS.config.credentials.sessionToken;
			AWS.config.region = 'us-east-1';
			apigClient = apigClientFactory.newClient({

					accessKey: AWS.config.credentials.accessKeyId,
					secretKey: AWS.config.credentials.secretAccessKey,
					sessionToken: AWS.config.credentials.sessionToken,
					region: 'us-east-1'

			});
})
	</script>
</body>
</html>